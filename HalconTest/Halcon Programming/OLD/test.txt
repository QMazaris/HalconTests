NumTestPoints := 200
read_image(Image1,'C:/Users/QuinnMazaris/Downloads/Image3.png')
read_image(Image2,'C:/Users/QuinnMazaris/Downloads/Image4.png')
get_image_size(Image1,Width,Height)
dev_open_window(0,0,Width,Height,'black',WindowHandle)
dev_set_window(WindowHandle)
edges_sub_pix(Image1,Edges1,'canny',1,20,40)
edges_sub_pix(Image2,Edges2,'canny',1,20,40)
length_xld(Edges1,Lengths1)
tuple_max(Lengths1,MaxLen)
tuple_find(Lengths1,MaxLen,IndexMax)
ObjIndex := IndexMax + 1
select_obj(Edges1,Contour1,ObjIndex)
contour_point_num_xld(Contour1,TotalPts)
Step := real(TotalPts-1)/(NumTestPoints-1)
tuple_gen_sequence(0,TotalPts-1,Step,Indices)
tuple_round(Indices,IndicesRound)
get_contour_xld(Contour1,Rows1,Cols1)
tuple_select(Rows1,IndicesRound,RowsSample)
tuple_select(Cols1,IndicesRound,ColsSample)
gen_contour_polygon_xld(SampleContour,RowsSample,ColsSample)
distance_contours_xld(SampleContour,Edges2,DistanceContour,'point_to_segment')
get_contour_attrib_xld(DistanceContour,'distance',Distances)
tuple_min(Distances,MinDist)
tuple_max(Distances,MaxDist)
dev_display(Image1)
dev_set_color('green')
dev_display(Contour1)
dev_set_color('red')
dev_display(Edges2)
Message := 'Max diff: '+MaxDist$'0.2f'+' px, Min diff: '+MinDist$'0.2f'+' px'
disp_message(WindowHandle,Message,'window',12,12,'white','true')
stop() 